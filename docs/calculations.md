# トーラムオンライン スミス計算式

## 成功率計算式

### 基本成功率（装備製作スキルレベル10の場合）
```
成功率 = 10 + 難易度補正 - 難易度 + 総STR/10
```

### 難易度補正
```
難易度補正 = スミス熟練度 + TEC/2 + 総DEX/6
```

### 最終成功率
```
成功率 = 10 + スミス熟練度 + TEC/2 + 総DEX/6 - 難易度 + 総STR/10
※成功率は0-100%の範囲に制限
```

## 潜在値計算式

### 装備種別ごとのキャラステータスによる潜在値上昇量
- **片手剣**: INT((STR+DEX)/20)
- **両手剣**: INT(STR/10)
- **弓**: INT((STR+DEX)/20)
- **自動弓**: INT(DEX/10)
- **杖**: INT(INT/10)
- **魔道具**: INT((INT+AGI)/20)
- **手甲**: INT(AGI/10)
- **旋風槍**: INT((STR+AGI)/20)
- **抜刀剣**: INT((DEX+AGI)/20)
- **体装備**: INT(VIT/10)

### スキルによる基礎潜在値への補正
- 丁寧な制作：INT(基礎潜在値 × (丁寧な制作スキルレベル/100))
- 匠の製作技術：INT(基礎潜在値 × (匠の製作技術スキルレベル×2/100))

### 最終潜在値計算
```
キャラステータスによる潜在値上昇量 = 装備種別ごとの計算式による値（小数点以下切り捨て）
丁寧な制作補正 = INT(基礎潜在値 × (丁寧な制作スキルレベル/100))
匠の製作技術補正 = INT(基礎潜在値 × (匠の製作技術スキルレベル×2/100))

総潜在値上昇量 = キャラステータスによる潜在値上昇量 + 丁寧な制作補正 + 匠の製作技術補正
最終潜在値 = 基礎潜在値 + 総潜在値上昇量
```

## 総ステータス計算

### 総STR
```
総STR = INT(基礎STR × (1 + STR%/100)) + STR固定値
```

### 総DEX
```
総DEX = INT(基礎DEX × (1 + DEX%/100)) + DEX固定値
```

### 固定値とパーセント値
```
STR固定値 = 各装備のSTR値の合計 + 料理STR補正
DEX固定値 = 各装備のDEX値の合計 + 料理DEX補正
STR% = 各装備のSTR%の合計
DEX% = 各装備のDEX%の合計
```

### INT関数について
INT(数値)は数値の小数点以下を元の数値より小さい整数に切り捨て
- 例: INT(-2.7) = -3
- 例: INT(15.8) = 15

## 入力値の制限
- キャラクターステータス（STR、DEX、VIT、AGI、INT、TEC）: 1-999の範囲
- 成功率: 0-100%の範囲に制限